<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZeroAuth Demo</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>ZeroAuth Demo</h1>
      <span class="badge">Demo</span>
    </header>

    <main>
      <!-- SDK Section -->
      <section class="card">
        <h2>SDK Integration</h2>
        <p style="color: #888; margin-bottom: 16px; font-size: 14px;">
          Using @zero-auth/sdk with built-in button and modal
        </p>
        <div id="sdk-button-container"></div>
      </section>

      <!-- Custom Flow Section -->
      <section class="card">
        <h2>Custom Flow</h2>
        
        <!-- Settings (ABOVE FOLD) -->
        <form id="settings-form">
          <div class="form-group">
            <label for="verifier-name">Verifier Name</label>
            <input type="text" id="verifier-name" name="verifier_name" value="Demo Verifier">
          </div>

          <div class="form-group">
            <label for="credential-type">Credential Type</label>
            <select id="credential-type" name="credential_type">
              <option value="Age Verification">Age Verification</option>
              <option value="Student Verification">Student Verification</option>
              <option value="Trial">Trial (7 days)</option>
            </select>
          </div>

          <div class="form-group" id="claims-group">
            <label>Requested Claims</label>
            <div id="claims-checkboxes" class="checkbox-group"></div>
          </div>

          <div class="form-group">
            <label>Timeout: <span id="timeout-value">60</span> seconds</label>
            <input type="range" id="timeout" name="timeout" min="30" max="300" value="60" step="30">
          </div>

          <div class="form-group">
            <button type="button" id="toggle-advanced" class="btn-link">Show Advanced â–¾</button>
          </div>

          <div id="advanced-options" class="advanced-options hidden">
            <div class="form-group">
              <label for="relay-url">Relay URL</label>
              <input type="url" id="relay-url" name="relay_url" value="https://zeroauth-relay.onrender.com">
            </div>
          </div>
        </form>

        <button type="button" id="signin-btn" class="btn-primary btn-large">
          Sign in using ZeroAuth
        </button>
        <p class="loading-text hidden" id="loading-text">Generating QR code...</p>
      </section>

      <!-- QR Display -->
      <section id="qr-section" class="card hidden">
        <div class="qr-container">
          <canvas id="qr-canvas"></canvas>
        </div>
        <div class="session-info">
          <p><strong>Verifier:</strong> <span id="session-verifier">-</span></p>
          <p><strong>Claims:</strong> <span id="session-claims">-</span></p>
          <p><strong>Time remaining:</strong> <span id="countdown">60</span>s</p>
        </div>
        <button type="button" id="cancel-btn" class="btn-secondary">Cancel</button>
      </section>

      <!-- Result -->
      <section id="result-section" class="card hidden">
        <div id="result-content"></div>
        <button type="button" id="try-again-btn" class="btn-primary">Try Again</button>
      </section>
    </main>

    <footer class="footer">
      <p>Powered by <a href="https://github.com/zeroauth-labs/Zero-Auth" target="_blank">ZeroAuth</a></p>
    </footer>
  </div>

  <!-- ZeroAuth SDK -->
  <script src="https://unpkg.com/@zero-auth/sdk@1.0.0/dist/zero-auth-sdk.umd.js"></script>
  
  <!-- QR Code library -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  
  <script>
    // Configure SDK
    window.ZeroAuthConfig = {
      relayUrl: 'https://zeroauth-relay.onrender.com',
      verifierName: 'Demo Website'
    };
  </script>
  
  <script src="app.js"></script>
</body>
</html>
